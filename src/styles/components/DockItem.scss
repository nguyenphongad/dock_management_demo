.dock-item-wrapper {
  display: flex;
  align-items: center;

  &--horizontal {
    gap: 0.5rem;
  }
}

.dock-item {
  position: relative;
  background: white;
  border: 2px solid #e9ecef;
  border-radius: 4px;
  padding: 0;
  display: flex;
  transition: box-shadow 0.2s;
  cursor: pointer;
  overflow: hidden;

  &--vertical {
    flex-direction: column;
    min-height: 60px;
    width: 80px; // Width cố định cho A10
  }

  &--horizontal {
    flex-direction: column; // Không rotate, giữ theo cột
    min-height: 60px;
    width: 80px; // Width cố định
  }

  &--compact {
    &.dock-item--vertical {
      min-height: 45px;
      width: 50px; // Width nhỏ hơn cho A8
    }
    &.dock-item--horizontal {
      min-height: 45px;
      width: 50px;
    }
  }

  &--occupied {
    border-color: #3498db;
    background: linear-gradient(to bottom, #e3f2fd 0%, #ffffff 60%);
    box-shadow: 0 2px 6px rgba(52, 152, 219, 0.2);
  }

  &--empty {
    border-color: #dee2e6;
    background: #fafafa;
  }

  // Bỏ hover scale
  &:hover {
    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.15);
  }

  // Label bên trong dock
  &__label {
    padding: 0.4rem;
    text-align: center;
    font-weight: 700;
    font-size: 0.85rem;
    color: #495057;
    white-space: nowrap;

    &--top {
      background: linear-gradient(to bottom, rgba(52, 152, 219, 0.1), transparent);
      border-bottom: 1px solid #e9ecef;
    }

    &--bottom {
      background: linear-gradient(to top, rgba(52, 152, 219, 0.1), transparent);
      border-top: 1px solid #e9ecef;
    }
  }

  .dock-item--compact &__label {
    padding: 0.3rem;
    font-size: 0.75rem;
  }

  // Label bên ngoài dock (cho D1-D3, A2-A3)
  &__label-outside {
    font-weight: 700;
    font-size: 0.8rem;
    color: #495057;
    white-space: nowrap;
    display: flex;
    align-items: center;
    justify-content: center;
    min-width: 30px;

    &--left {
      order: -1;
    }

    &--right {
      order: 1;
    }
  }

  // Body chứa 2 vị trí
  &__body {
    flex: 1;
    display: grid;
    align-items: stretch;
    padding: 0.3rem;
    gap: 0.3rem;
  }

  &--vertical &__body,
  &--horizontal &__body {
    grid-template-columns: 1fr 2px 1fr; // Luôn chia theo cột
  }

  .dock-item--compact &__body {
    padding: 0.2rem;
    gap: 0.2rem;
  }

  // Vị trí xe
  &__position {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 0.2rem;
    padding: 0.25rem;

    .vehicle-icon {
      color: #3498db;
    }

    .vehicle-plate {
      font-size: 0.7rem;
      font-weight: 600;
      color: #2c3e50;
      text-align: center;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      max-width: 100%;
      line-height: 1.2;
    }

    .vehicle-indicator {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      margin-top: 0.1rem;

      &--normal { background: #27ae60; }
      &--nearly_full { background: #f39c12; }
      &--exceeded { background: #e74c3c; }
    }

    .position-empty {
      font-size: 1.2rem;
      color: #dee2e6;
      font-weight: 300;
    }
  }

  .dock-item--compact &__position {
    gap: 0.15rem;
    padding: 0.2rem;

    .vehicle-plate {
      font-size: 0.6rem;
    }

    .vehicle-indicator {
      width: 6px;
      height: 6px;
    }

    .position-empty {
      font-size: 1rem;
    }
  }

  // Divider - luôn theo chiều dọc
  &__divider {
    width: 2px;
    height: 100%;
    align-self: stretch;
    background: linear-gradient(to bottom, transparent 10%, #dee2e6 20%, #dee2e6 80%, transparent 90%);
  }
}

// Responsive
@media (max-width: 1200px) {
  .dock-item {
    &--vertical {
      min-height: 55px;
      width: 70px;
    }

    &--horizontal {
      min-height: 55px;
      width: 70px;
    }

    &--compact {
      &.dock-item--vertical {
        min-height: 40px;
        width: 60px;
      }
      &.dock-item--horizontal {
        min-height: 40px;
        width: 60px;
      }
    }

    &__label {
      font-size: 0.75rem;
    }

    &__label-outside {
      font-size: 0.7rem;
    }

    &__position .vehicle-plate {
      font-size: 0.65rem;
    }
  }
}
